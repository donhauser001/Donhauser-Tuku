# Donhauser-Tuku (DHSå›¾åº“)

ä¸€ä¸ªä¸“ä¸ºè®¾è®¡å¸ˆæ‰“é€ çš„WordPresså›¾ç‰‡å’Œç›¸å†Œç®¡ç†æ’ä»¶ï¼Œæ”¯æŒAIæ™ºèƒ½æ ‡ç­¾ç”Ÿæˆã€å¤šç”¨æˆ·æƒé™ç®¡ç†ã€ç›¸å†Œåˆ†ç±»ç­‰åŠŸèƒ½ã€‚

## ğŸš€ ä¸»è¦ç‰¹æ€§

- **AIæ™ºèƒ½æ ‡ç­¾ç”Ÿæˆ** - æ”¯æŒå¤šç§AIæœåŠ¡è‡ªåŠ¨ç”Ÿæˆå›¾ç‰‡æ ‡ç­¾
- **å¤šç”¨æˆ·æƒé™ç®¡ç†** - å®Œæ•´çš„ç”¨æˆ·æƒé™æ§åˆ¶ç³»ç»Ÿ
- **ç›¸å†Œç®¡ç†** - æ”¯æŒç›¸å†Œåˆ›å»ºã€åˆ†ç±»ã€æƒé™è®¾ç½®
- **å›¾ç‰‡ç®¡ç†** - æ‰¹é‡ä¸Šä¼ ã€æ ‡ç­¾ç®¡ç†ã€æ”¶è—åŠŸèƒ½
- **æœç´¢åŠŸèƒ½** - åŸºäºæ ‡ç­¾å’Œç›¸å†Œçš„æ™ºèƒ½æœç´¢
- **å“åº”å¼è®¾è®¡** - æ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- **ç¼“å­˜ç³»ç»Ÿ** - å†…ç½®ç¼“å­˜æœºåˆ¶æå‡æ€§èƒ½

## ğŸ“‹ ç³»ç»Ÿè¦æ±‚

- **WordPress**: 5.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **PHP**: 7.4 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 5.6 æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜é™åˆ¶**: å»ºè®®è‡³å°‘256MB

## ğŸ› ï¸ å®‰è£…æ–¹æ³•

### æ–¹æ³•1ï¼šé€šè¿‡WordPressåå°å®‰è£…
1. ä¸‹è½½æ’ä»¶ZIPæ–‡ä»¶
2. åœ¨WordPressåå° â†’ æ’ä»¶ â†’ å®‰è£…æ’ä»¶
3. ç‚¹å‡»"ä¸Šä¼ æ’ä»¶"å¹¶é€‰æ‹©ZIPæ–‡ä»¶
4. æ¿€æ´»æ’ä»¶

### æ–¹æ³•2ï¼šæ‰‹åŠ¨å®‰è£…
1. å°†æ’ä»¶æ–‡ä»¶å¤¹ä¸Šä¼ åˆ° `/wp-content/plugins/` ç›®å½•
2. åœ¨WordPressåå°æ¿€æ´»æ’ä»¶
3. è¿›å…¥è®¾ç½®é¡µé¢é…ç½®AIæœåŠ¡

## ğŸ¤– AIé…ç½®æŒ‡å—

### æ”¯æŒçš„AIæœåŠ¡

æœ¬æ’ä»¶æ”¯æŒå¤šç§AIæœåŠ¡ï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åºï¼š

#### 1. LM Studio (æœ¬åœ°éƒ¨ç½²) - æ¨è
- **ä¼˜åŠ¿**: å®Œå…¨æœ¬åœ°åŒ–ï¼Œæ— ç½‘ç»œä¾èµ–ï¼Œéšç§å®‰å…¨
- **é…ç½®è¦æ±‚**: æœ¬åœ°è¿è¡ŒLM StudioæœåŠ¡
- **é»˜è®¤è®¾ç½®**: `http://localhost:1234/v1/chat/completions`

**é…ç½®æ­¥éª¤**:
1. ä¸‹è½½å¹¶å®‰è£… [LM Studio](https://lmstudio.ai/)
2. ä¸‹è½½æ”¯æŒå›¾åƒç†è§£çš„æ¨¡å‹ï¼ˆå¦‚llavaï¼‰
3. å¯åŠ¨LM StudioæœåŠ¡
4. åœ¨æ’ä»¶è®¾ç½®ä¸­é…ç½®APIåœ°å€å’Œæ¨¡å‹åç§°

**æ¨èæ¨¡å‹**:
- `llava-v1.5-7b` - å¹³è¡¡æ€§èƒ½å’Œå‡†ç¡®æ€§
- `llava-v1.6-vicuna-13b` - æ›´é«˜å‡†ç¡®æ€§
- `llava-v1.6-mistral-7b` - å¿«é€Ÿå¤„ç†

#### 2. OpenAI API (äº‘ç«¯æœåŠ¡)
- **ä¼˜åŠ¿**: ç¨³å®šå¯é ï¼Œæ¨¡å‹è´¨é‡é«˜
- **é…ç½®è¦æ±‚**: OpenAI APIå¯†é’¥
- **é»˜è®¤æ¨¡å‹**: `gpt-4o-mini`

**é…ç½®æ­¥éª¤**:
1. æ³¨å†Œ [OpenAI](https://openai.com/) è´¦æˆ·
2. è·å–APIå¯†é’¥
3. åœ¨æ’ä»¶è®¾ç½®ä¸­è¾“å…¥APIå¯†é’¥
4. é€‰æ‹©é€‚åˆçš„æ¨¡å‹

#### 3. Hugging Face (å¤‡é€‰æ–¹æ¡ˆ)
- **ä¼˜åŠ¿**: å¼€æºæ¨¡å‹ï¼Œæˆæœ¬è¾ƒä½
- **é…ç½®è¦æ±‚**: Hugging Face APIå¯†é’¥
- **æ”¯æŒæ¨¡å‹**: å›¾åƒåˆ†ç±»ã€å›¾åƒæè¿°ã€å¯¹è±¡æ£€æµ‹

### AIè®¾ç½®é…ç½®

#### åŸºç¡€è®¾ç½®
1. è¿›å…¥ **WordPressåå°** â†’ **DHSå›¾åº“** â†’ **è®¾ç½®**
2. æ‰¾åˆ° **AIæ ‡ç­¾ç”Ÿæˆ** éƒ¨åˆ†
3. å¯ç”¨AIæ ‡ç­¾ç”ŸæˆåŠŸèƒ½

#### LM Studioé…ç½®
```php
// åœ¨è®¾ç½®é¡µé¢é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š
LM Studio APIåœ°å€: http://localhost:1234/v1/chat/completions
æ¨¡å‹åç§°: llava-v1.5-7b
APIå¯†é’¥: (å¯é€‰ï¼Œå¦‚æœè®¾ç½®äº†çš„è¯)
```

#### OpenAIé…ç½®
```php
// åœ¨è®¾ç½®é¡µé¢é…ç½®ä»¥ä¸‹é€‰é¡¹ï¼š
OpenAI APIå¯†é’¥: sk-xxxxxxxxxxxxxxxxxxxxxxxx
æ¨¡å‹é€‰æ‹©: gpt-4o-mini (æ¨è) æˆ– gpt-4-vision-preview
```

#### è¯­è¨€è®¾ç½®
- **ä¸­æ–‡**: ç”Ÿæˆä¸­æ–‡æ ‡ç­¾ï¼ˆé»˜è®¤ï¼‰
- **è‹±æ–‡**: ç”Ÿæˆè‹±æ–‡æ ‡ç­¾ï¼ˆéœ€è¦AIæ¨¡å‹æ”¯æŒï¼‰
- **è‡ªåŠ¨æ£€æµ‹**: æ ¹æ®å›¾ç‰‡å†…å®¹è‡ªåŠ¨é€‰æ‹©è¯­è¨€

> **æ³¨æ„**: è‹±æ–‡æ ‡ç­¾ç”ŸæˆåŠŸèƒ½éœ€è¦AIæ¨¡å‹æ”¯æŒè‹±æ–‡è¾“å‡ºï¼Œç•Œé¢è¯­è¨€ä»ä¸ºä¸­æ–‡ã€‚

### AIæ ‡ç­¾ç”Ÿæˆä½¿ç”¨

#### å•å¼ å›¾ç‰‡ç”Ÿæˆæ ‡ç­¾
1. åœ¨å›¾ç‰‡ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»å›¾ç‰‡ä¸‹æ–¹çš„"AIæ ‡ç­¾"æŒ‰é’®
2. ç³»ç»Ÿè‡ªåŠ¨è°ƒç”¨é…ç½®çš„AIæœåŠ¡
3. ç”Ÿæˆæ ‡ç­¾åå¯ä»¥ç¼–è¾‘ã€ç¡®è®¤æˆ–æ‹’ç»

#### æ‰¹é‡ç”Ÿæˆæ ‡ç­¾
1. åœ¨ç›¸å†Œç®¡ç†é¡µé¢ï¼Œé€‰æ‹©"æ‰¹é‡AIæ ‡ç­¾"
2. é€‰æ‹©è¦å¤„ç†çš„ç›¸å†Œæˆ–å›¾ç‰‡èŒƒå›´
3. è®¾ç½®å¤„ç†æ•°é‡é™åˆ¶ï¼ˆå»ºè®®æ¯æ¬¡ä¸è¶…è¿‡50å¼ ï¼‰
4. ç³»ç»Ÿè‡ªåŠ¨æ‰¹é‡å¤„ç†å¹¶ç”Ÿæˆæ ‡ç­¾

#### æ ‡ç­¾è´¨é‡ä¼˜åŒ–
- **è°ƒæ•´æç¤ºè¯**: åœ¨AIè®¾ç½®ä¸­å¯ä»¥è‡ªå®šä¹‰æç¤ºè¯æ¨¡æ¿
- **æ ‡ç­¾è¿‡æ»¤**: è‡ªåŠ¨è¿‡æ»¤é‡å¤å’Œä½è´¨é‡æ ‡ç­¾
- **äººå·¥å®¡æ ¸**: ç”Ÿæˆçš„æ ‡ç­¾éœ€è¦äººå·¥ç¡®è®¤åç”Ÿæ•ˆ

## ğŸ“ åŠŸèƒ½æ¨¡å—è¯¦è§£

### ç›¸å†Œç®¡ç†
- **åˆ›å»ºç›¸å†Œ**: æ”¯æŒç›¸å†Œåç§°ã€æè¿°ã€å°é¢è®¾ç½®
- **æƒé™æ§åˆ¶**: å…¬å¼€ã€ç§æœ‰ã€å¯†ç ä¿æŠ¤ç­‰è®¿é—®æƒé™
- **åˆ†ç±»ç®¡ç†**: æ”¯æŒç›¸å†Œåˆ†ç±»å’Œæ ‡ç­¾
- **æ‰¹é‡æ“ä½œ**: æ‰¹é‡åˆ é™¤ã€ç§»åŠ¨ã€æƒé™ä¿®æ”¹

### å›¾ç‰‡ç®¡ç†
- **ä¸Šä¼ åŠŸèƒ½**: æ”¯æŒæ‹–æ‹½ä¸Šä¼ ã€æ‰¹é‡ä¸Šä¼ 
- **æ ¼å¼æ”¯æŒ**: JPGã€PNGã€TIFFã€GIFç­‰ä¸»æµæ ¼å¼
- **æ ‡ç­¾ç³»ç»Ÿ**: æ‰‹åŠ¨æ ‡ç­¾ã€AIæ ‡ç­¾ã€æ ‡ç­¾åˆ†ç±»
- **æ”¶è—åŠŸèƒ½**: ç”¨æˆ·ä¸ªäººæ”¶è—å¤¹
- **æœç´¢åŠŸèƒ½**: åŸºäºæ ‡ç­¾ã€æ–‡ä»¶åã€ç›¸å†Œçš„æ™ºèƒ½æœç´¢

### ç”¨æˆ·æƒé™
- **è§’è‰²ç®¡ç†**: ç®¡ç†å‘˜ã€ç¼–è¾‘è€…ã€è´¡çŒ®è€…ã€è®¢é˜…è€…
- **æƒé™æ§åˆ¶**: ä¸Šä¼ ã€ç¼–è¾‘ã€åˆ é™¤ã€ç®¡ç†ç›¸å†Œç­‰æƒé™
- **å†…å®¹æ‰€æœ‰æƒ**: ç”¨æˆ·åªèƒ½ç®¡ç†è‡ªå·±ä¸Šä¼ çš„å†…å®¹

### çŸ­ä»£ç ä½¿ç”¨
```php
// æ˜¾ç¤ºç›¸å†Œåˆ—è¡¨
[dhs_tuku_albums]

// æ˜¾ç¤ºæŒ‡å®šç›¸å†Œçš„å›¾ç‰‡
[dhs_tuku_gallery album_id="1"]

// æ˜¾ç¤ºç”¨æˆ·æ”¶è—
[dhs_tuku_favorites]

// æ˜¾ç¤ºä¸Šä¼ è¡¨å•
[dhs_tuku_upload]
```

## ğŸ”§ é«˜çº§é…ç½®

### ç¼“å­˜è®¾ç½®
- å¯ç”¨/ç¦ç”¨ç¼“å­˜åŠŸèƒ½
- è®¾ç½®ç¼“å­˜è¿‡æœŸæ—¶é—´
- æ‰‹åŠ¨æ¸…ç†ç¼“å­˜

### ä¸Šä¼ è®¾ç½®
- æœ€å¤§æ–‡ä»¶å¤§å°é™åˆ¶
- å…è®¸çš„æ–‡ä»¶ç±»å‹
- å›¾ç‰‡è´¨é‡å‹ç¼©è®¾ç½®

### æ€§èƒ½ä¼˜åŒ–
- å›¾ç‰‡æ‡’åŠ è½½
- ç¼©ç•¥å›¾ç”Ÿæˆ
- CDNæ”¯æŒé…ç½®

## ğŸš¨ æ•…éšœæ’é™¤

### AIæœåŠ¡è¿æ¥é—®é¢˜
1. **æ£€æŸ¥LM StudioæœåŠ¡çŠ¶æ€**
   ```bash
   curl http://localhost:1234/v1/models
   ```

2. **éªŒè¯APIå¯†é’¥**
   - ç¡®ä¿OpenAI APIå¯†é’¥æœ‰æ•ˆ
   - æ£€æŸ¥APIé…é¢æ˜¯å¦å……è¶³

3. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - æ£€æŸ¥é˜²ç«å¢™è®¾ç½®
   - éªŒè¯ä»£ç†é…ç½®

### å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆ

#### "LM Studioä¸å¯ç”¨"é”™è¯¯
- ç¡®ä¿LM StudioæœåŠ¡æ­£åœ¨è¿è¡Œ
- æ£€æŸ¥ç«¯å£1234æ˜¯å¦è¢«å ç”¨
- éªŒè¯æ¨¡å‹æ˜¯å¦æ­£ç¡®åŠ è½½

#### "æƒé™ä¸è¶³"é”™è¯¯
- æ£€æŸ¥ç”¨æˆ·è§’è‰²æƒé™è®¾ç½®
- ç¡®è®¤WordPressç”¨æˆ·æƒé™é…ç½®
- éªŒè¯nonceå®‰å…¨éªŒè¯

#### "å›¾ç‰‡ä¸Šä¼ å¤±è´¥"é”™è¯¯
- æ£€æŸ¥æ–‡ä»¶å¤§å°é™åˆ¶
- éªŒè¯æ–‡ä»¶ç±»å‹æ˜¯å¦å…è®¸
- ç¡®è®¤ç›®å½•å†™å…¥æƒé™

## ğŸ“Š æ€§èƒ½ç›‘æ§

### ç³»ç»Ÿç»Ÿè®¡
- å›¾ç‰‡æ€»æ•°å’Œå­˜å‚¨ç©ºé—´
- ç”¨æˆ·æ´»è·ƒåº¦ç»Ÿè®¡
- AIæ ‡ç­¾ç”ŸæˆæˆåŠŸç‡
- ç³»ç»Ÿæ€§èƒ½æŒ‡æ ‡

### æ—¥å¿—è®°å½•
- é”™è¯¯æ—¥å¿—è®°å½•
- ç”¨æˆ·æ“ä½œæ—¥å¿—
- AIæœåŠ¡è°ƒç”¨æ—¥å¿—
- æ€§èƒ½ç›‘æ§æ—¥å¿—

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- **CSRFä¿æŠ¤**: æ‰€æœ‰è¡¨å•éƒ½æœ‰nonceéªŒè¯
- **æƒé™éªŒè¯**: ä¸¥æ ¼çš„ç”¨æˆ·æƒé™æ£€æŸ¥
- **æ–‡ä»¶ç±»å‹éªŒè¯**: ä¸¥æ ¼çš„æ–‡ä»¶ä¸Šä¼ å®‰å…¨æ£€æŸ¥
- **SQLæ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨WordPressé¢„å‡†å¤‡è¯­å¥
- **XSSé˜²æŠ¤**: è¾“å‡ºå†…å®¹è‡ªåŠ¨è½¬ä¹‰

## ğŸŒ å›½é™…åŒ–æ”¯æŒ

- **å½“å‰çŠ¶æ€**: ä»…æ”¯æŒä¸­æ–‡ç•Œé¢
- **æŠ€æœ¯åŸºç¡€**: å·²é›†æˆWordPresså›½é™…åŒ–æ¡†æ¶
- **æ‰©å±•æ€§**: æ”¯æŒæ·»åŠ å…¶ä»–è¯­è¨€åŒ…
- **æ—¶åŒºæ”¯æŒ**: æ”¯æŒæ—¶åŒºå’Œæ—¥æœŸæ ¼å¼æœ¬åœ°åŒ–

> **æ³¨æ„**: ç›®å‰æ’ä»¶ç•Œé¢ä»…æä¾›ä¸­æ–‡ç‰ˆæœ¬ï¼Œè‹±æ–‡æ”¯æŒæ­£åœ¨å¼€å‘ä¸­ã€‚

## ğŸ“ å¼€å‘æ–‡æ¡£

### é’©å­ç³»ç»Ÿ
```php
// å›¾ç‰‡ä¸Šä¼ åé’©å­
do_action('dhs_tuku_image_uploaded', $image_id, $album_id);

// AIæ ‡ç­¾ç”Ÿæˆåé’©å­
do_action('dhs_tuku_ai_tags_generated', $image_id, $tags);

// ç›¸å†Œåˆ›å»ºåé’©å­
do_action('dhs_tuku_album_created', $album_id);
```

### è¿‡æ»¤å™¨ç³»ç»Ÿ
```php
// è‡ªå®šä¹‰AIæç¤ºè¯
add_filter('dhs_tuku_ai_prompt', 'custom_ai_prompt');

// è‡ªå®šä¹‰æ ‡ç­¾å¤„ç†
add_filter('dhs_tuku_process_tags', 'custom_tag_processor');
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

### å¼€å‘ç¯å¢ƒè®¾ç½®
1. Forké¡¹ç›®ä»“åº“
2. å…‹éš†åˆ°æœ¬åœ°
3. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
4. æäº¤æ›´æ”¹
5. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ
- éµå¾ªWordPressç¼–ç æ ‡å‡†
- ä½¿ç”¨æœ‰æ„ä¹‰çš„å˜é‡å’Œå‡½æ•°å
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿ä»£ç é€šè¿‡PHP_CodeSnifferæ£€æŸ¥

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [GPL v2](LICENSE) è®¸å¯è¯ã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

- **å¼€å‘è€…**: aiden
- **é¡¹ç›®**: Donhauser-Tuku
- **ç‰ˆæœ¬**: 1.2.0

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’ŒæœåŠ¡ï¼š
- WordPressç¤¾åŒº
- OpenAI API
- Hugging Face
- LM Studio
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·

## ğŸ“ æ”¯æŒä¸åé¦ˆ

å¦‚æœæ‚¨é‡åˆ°é—®é¢˜æˆ–æœ‰å»ºè®®ï¼Œè¯·ï¼š
1. æŸ¥çœ‹æœ¬æ–‡æ¡£çš„æ•…éšœæ’é™¤éƒ¨åˆ†
2. åœ¨GitHubä¸Šæäº¤Issue
3. è”ç³»å¼€å‘å›¢é˜Ÿ

---

**æ³¨æ„**: ä½¿ç”¨AIåŠŸèƒ½æ—¶ï¼Œè¯·ç¡®ä¿éµå®ˆç›¸å…³æœåŠ¡çš„ä½¿ç”¨æ¡æ¬¾å’Œéšç§æ”¿ç­–ã€‚